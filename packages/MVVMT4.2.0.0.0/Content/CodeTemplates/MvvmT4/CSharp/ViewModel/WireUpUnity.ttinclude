<#+
    // <copyright file="ViewModelWireUpUnity.tt" company="CompDJ">
    //  Copyright © CompDJ. All Rights Reserved.
    // </copyright>

    public class ViewModelWireUpUnity : Template
    {
        public override string TransformText()
        {
#>
// -----------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by MVVMT4 v<#=Config.Version#>. 
//     http://mvvmt4.codeplex.com/
//     
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
//     NOTE: This code will probably not work unless it's moved out of the 
//           generated folder.
// </auto-generated>
// -----------------------------------------------------------------------------

        //------------------------------------------------------------------------------
        // This is the code needed inside the view model locator to wire up 
        // the <#=Config.Name#> view model.
        //------------------------------------------------------------------------------

        // In the Bootstrapper.ConfigureContainer() method, add the following code:
        container.RegisterInstance<<#=Config.GetNamespace(ViewMode.ViewModel)#>.<#=Config.Name#>ViewModel>(new <#=Config.GetNamespace(ViewMode.ViewModel)#>.<#=Config.Name#>ViewModel());

        // In the view model locator cleanup method, add the following code:
        Bootstrapper.Resolve<<#=Config.GetNamespace(ViewMode.ViewModel)#>.<#=Config.Name#>ViewModel>().Cleanup();

        // The rest of the code below should be moved to the view model locator.

        /// <summary>
        /// Gets the <#=Config.Name#> property.
        /// </summary>
        public <#=Config.ViewModelNamespace#>.<#=Config.Name#>ViewModel <#=Config.Name#>
        {
            get
            {
                return Bootstrapper.Resolve<<#=Config.ViewModelNamespace#>.<#=Config.Name#>ViewModel>();
            }
        }


<#+
            return this.GenerationEnvironment.ToString();
        }
    }
#>
